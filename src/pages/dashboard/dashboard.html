<!--
  Generated template for the DashboardPage page.
  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-content class="dashboard-content">
  <div class="brief" (click)="goToDetail()">
    <h4>
     This Month
     <span>
       <span>
         <ion-icon class="brief-heart-break" name="md-heart"></ion-icon>
         <ion-icon name="md-flash" class="brief-heart-flash"></ion-icon>
       </span>
      ${{abs(_exceedThisV).toFixed(2)}}
       <span>
         <ion-icon class="brief-heart" name="md-heart"></ion-icon>
       </span>
      ${{abs(_totalThisV - _exceedThisV).toFixed(2)}}
    </span>
   </h4>
    <ng-progress id="total-this" #totalThis color="#00E676" [min]="1" *ngIf="!_spendingMoreThis"></ng-progress>
    <ng-progress id="exceed-this" #exceedThis color="#FF7043" [min]="0"></ng-progress>
    <ng-progress id="total-this-below" #totalThisBelow color="#00E676" [min]="1" *ngIf="_spendingMoreThis"></ng-progress>
    <h4 class="last-month-label">
     Last Month
     <span>
       <span>
         <ion-icon class="brief-heart-break" name="md-heart"></ion-icon>
         <ion-icon name="md-flash" class="brief-heart-flash"></ion-icon>
       </span>
      ${{abs(_exceedLastV).toFixed(2)}}
       <span>
         <ion-icon class="brief-heart" name="md-heart"></ion-icon>
       </span>
      ${{abs(_totalLastV - _exceedLastV).toFixed(2)}}
     </span>
    </h4>
    <ng-progress id="total-last" #totalLast color="#00E676" class="lastMonth" [min]="1" *ngIf="!_spendingMoreLast"></ng-progress>
    <ng-progress id="exceed-last" #exceedLast color="#FF7043" class="lastMonth" [min]="0"></ng-progress>
    <ng-progress id="total-last-below" #totalLastBelow color="#00E676" class="lastMonth" [min]="1" *ngIf="_spendingMoreLast"></ng-progress>
    <div class="button-wrapper">
      <button ion-button clear small> View Details </button>
    </div>
  </div>

  <ion-content class="inbox">
    <div class="linked">
      <div class="purchases-wrapper">
        <!-- <div>
          {{_demoText}}
        </div> -->
        <div>
          <h2>New Purchases</h2>
        </div>
        <div class="empty-msg" *ngIf="!_transactions || _transactions.length == 0 || emptyTransactions">
          No transactions.
        </div>
        <transaction-group *ngFor="let t of _transactions" [transactions]=t (onApprove)="onApprove($event)" (onFlag)="onFlag($event)"></transaction-group>
      </div>
    </div>

  </ion-content>
</ion-content>